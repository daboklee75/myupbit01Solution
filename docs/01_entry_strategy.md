# 01. 진입 전략 (Entry Strategy)

## 핵심 개념: "상승 추세의 눌림목을 노린다"
**MyUpbit V2**는 급등하는 코인을 시장가로 따라잡지 않습니다. 대신 **검증된 상승 추세**에 있는 코인을 찾아, 살짝 가격이 내려왔을 때(눌림목) **지정가(Limit Order)**로 진입하여 승률을 높입니다.

## 1. 종목 선정 및 필터링 (Selection)

봇은 매 30초~1분마다 업비트 원화(KRW) 마켓의 전 종목을 스캔합니다.

### A. 유니버스 구성
*   **거래대금 상위 30개**: 거래량이 활발한 주도주 위주로 매매합니다.
*   **필터링**:
    *   스테이블 코인(`USDT`, `USDC`) 제외.
    *   변동성 1.0% 미만인 소외주 제외.
    
### B. 시장 방어 필터 (Bitcoin Filter)
*   **"대장주가 기침하면 봇은 멈춘다"**: 비트코인(KRW-BTC)의 상태가 불안정하면 모든 신규 진입을 즉시 중단합니다.
    *   **1시간 급락**: 최근 1시간 동안 **-1.5%** 이상 하락 시 차단.
    *   **3시간 추세 이탈**: 3시간 추세(Slope)가 **-0.5%** 미만으로 꺾일 시 차단.

## 2. 3시간 추세 스코어링 (Trend Search)

선정된 후보군에 대해 **15분봉 기준 최근 12개 캔들(3시간)** 데이터를 분석하여 점수를 매깁니다.

### 주요 평가 항목
| 항목 | 조건 | 배점 | 의미 |
|---|---|---|---|
| **Slope (기울기)** | 1시간(4캔들) 가중 선형 회귀 기울기 $\ge 0.5\%$ | **+10~20** | 최근 추세에 가중치(3x)를 둔 상승 강도 측정 |
| | $0.5\% \le$ 기울기 $< 1.0\%$ | **+10** | 완만한 상승 (진입 최소 기준) |
| | **$0.5\%$ 미만** | **진입 불가** | 힘이 부족한 횡보/약세 종목 |
| | **음수 ($< 0$)** | **진입 불가** | 하락 추세는 절대 매수하지 않음 |
| **Channel Position** | $Pos \le 0.3$ (하위 30%) | **+5** | [하향] 안전한 눌림목 구간 (Best) |
| | $Pos \le 0.6$ (하위 60%) | **+2** | [하향] 추격 매수 방지 구간 (Good) |
| **Volume Support** | 현재 거래량 > 직전 3시간 평균 | +5 | 상승을 뒷받침하는 거래량 |
| **RSI** | 40 ~ 60 구간 | +5 | 과매수/과매도 없는 안정적 구간 |
| **Buying Power** | 체결 강도(매수 체결 비율) 60% 이상 | +10 | 매수세 우위 |

👉 **총점 30점 이상**인 종목 중 가장 점수가 높은 1개 종목을 타겟으로 선정합니다.

## 3. 동적 지정가 계산 (Dynamic Limit Price)

타겟 코인의 **Slope(상승 강도)**에 따라 매수 대기 가격을 다르게 설정합니다.

*   **강한 상승 ($Slope \ge 2.0$)**: 현재가 대비 **-0.1%** 가격에 주문. (매수 기회를 놓치지 않기 위함)
*   **완만한 상승 ($0.5 \le Slope < 2.0$)**: 현재가 대비 **-0.2%** 가격에 주문.
*   **횡보/약반등 ($Slope < 0.5$)**: 현재가 대비 **-0.5%** 가격에 주문. (안전마진 확보)

> 💡 **주문 후 15분** 동안 체결되지 않으면 주문을 취소하고 새로운 타겟을 찾습니다. (기회비용 관리)
